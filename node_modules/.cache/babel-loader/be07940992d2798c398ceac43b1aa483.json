{"ast":null,"code":"var _jsxFileName = \"/home/wv/Desktop/GitRepos/Ecommerce/React-Redux-E_commerce/src/Razor.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { cartDataDelete, OrderDataACtion } from \"./redux/action.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Razor(_ref) {\n  _s();\n\n  let {\n    price,\n    item\n  } = _ref;\n  const dispatch = useDispatch();\n\n  const loadScript = src => {\n    return new Promise(resolve => {\n      const script = document.createElement(\"script\");\n      script.src = src;\n\n      script.onload = () => {\n        resolve(true);\n      };\n\n      script.onerror = () => {\n        resolve(false);\n      };\n\n      document.body.appendChild(script);\n    });\n  };\n\n  const displayRazorpay = async amount => {\n    const res = await loadScript(\"http://checkout.razorpay.com/v1/checkout.js\");\n\n    if (!res) {\n      alert(\"offfline\");\n      return;\n    }\n\n    const options = {\n      key: \"rzp_test_92xnvmwoK4k2CT\",\n      currency: \"INR\",\n      amount: amount * 100,\n      name: \"rahul\",\n      handler: function (response) {\n        if (response.razorpay_payment_id) {\n          dispatch(cartDataDelete(item));\n          dispatch(OrderDataACtion(item));\n          alert(\"payment done \");\n        }\n      }\n    };\n    const paymentObject = new window.Razorpay(options);\n    paymentObject.open();\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn btn-sm btn-primary mt-2\",\n      onClick: () => displayRazorpay(price),\n      children: \"Pay with RazorPay\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Razor, \"rgTLoBID190wEKCp9+G8W6F7A5M=\", false, function () {\n  return [useDispatch];\n});\n\n_c = Razor;\nexport default Razor;\n\nvar _c;\n\n$RefreshReg$(_c, \"Razor\");","map":{"version":3,"sources":["/home/wv/Desktop/GitRepos/Ecommerce/React-Redux-E_commerce/src/Razor.js"],"names":["React","useDispatch","cartDataDelete","OrderDataACtion","Razor","price","item","dispatch","loadScript","src","Promise","resolve","script","document","createElement","onload","onerror","body","appendChild","displayRazorpay","amount","res","alert","options","key","currency","name","handler","response","razorpay_payment_id","paymentObject","window","Razorpay","open"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,cAAT,EAAyBC,eAAzB,QAAgD,mBAAhD;;;AAEA,SAASC,KAAT,OAAgC;AAAA;;AAAA,MAAjB;AAAEC,IAAAA,KAAF;AAASC,IAAAA;AAAT,GAAiB;AAC9B,QAAMC,QAAQ,GAAGN,WAAW,EAA5B;;AACA,QAAMO,UAAU,GAAIC,GAAD,IAAS;AAC1B,WAAO,IAAIC,OAAJ,CAAaC,OAAD,IAAa;AAC9B,YAAMC,MAAM,GAAGC,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAf;AACAF,MAAAA,MAAM,CAACH,GAAP,GAAaA,GAAb;;AACAG,MAAAA,MAAM,CAACG,MAAP,GAAgB,MAAM;AACpBJ,QAAAA,OAAO,CAAC,IAAD,CAAP;AACD,OAFD;;AAGAC,MAAAA,MAAM,CAACI,OAAP,GAAiB,MAAM;AACrBL,QAAAA,OAAO,CAAC,KAAD,CAAP;AACD,OAFD;;AAGAE,MAAAA,QAAQ,CAACI,IAAT,CAAcC,WAAd,CAA0BN,MAA1B;AACD,KAVM,CAAP;AAWD,GAZD;;AAcA,QAAMO,eAAe,GAAG,MAAOC,MAAP,IAAkB;AACxC,UAAMC,GAAG,GAAG,MAAMb,UAAU,CAAC,6CAAD,CAA5B;;AACA,QAAI,CAACa,GAAL,EAAU;AACRC,MAAAA,KAAK,CAAC,UAAD,CAAL;AACA;AACD;;AACD,UAAMC,OAAO,GAAG;AACdC,MAAAA,GAAG,EAAE,yBADS;AAEdC,MAAAA,QAAQ,EAAE,KAFI;AAGdL,MAAAA,MAAM,EAAEA,MAAM,GAAG,GAHH;AAIdM,MAAAA,IAAI,EAAE,OAJQ;AAKdC,MAAAA,OAAO,EAAE,UAAUC,QAAV,EAAoB;AAC3B,YAAIA,QAAQ,CAACC,mBAAb,EAAkC;AAChCtB,UAAAA,QAAQ,CAACL,cAAc,CAACI,IAAD,CAAf,CAAR;AACAC,UAAAA,QAAQ,CAACJ,eAAe,CAACG,IAAD,CAAhB,CAAR;AACAgB,UAAAA,KAAK,CAAC,eAAD,CAAL;AACD;AACF;AAXa,KAAhB;AAaA,UAAMQ,aAAa,GAAG,IAAIC,MAAM,CAACC,QAAX,CAAoBT,OAApB,CAAtB;AACAO,IAAAA,aAAa,CAACG,IAAd;AACD,GArBD;;AAsBA,sBACE;AAAA,2BACE;AACE,MAAA,SAAS,EAAC,6BADZ;AAEE,MAAA,OAAO,EAAE,MAAMd,eAAe,CAACd,KAAD,CAFhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AAUD;;GAhDQD,K;UACUH,W;;;KADVG,K;AAkDT,eAAeA,KAAf","sourcesContent":["import React from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { cartDataDelete, OrderDataACtion } from \"./redux/action.js\";\n\nfunction Razor({ price, item }) {\n  const dispatch = useDispatch();\n  const loadScript = (src) => {\n    return new Promise((resolve) => {\n      const script = document.createElement(\"script\");\n      script.src = src;\n      script.onload = () => {\n        resolve(true);\n      };\n      script.onerror = () => {\n        resolve(false);\n      };\n      document.body.appendChild(script);\n    });\n  };\n\n  const displayRazorpay = async (amount) => {\n    const res = await loadScript(\"http://checkout.razorpay.com/v1/checkout.js\");\n    if (!res) {\n      alert(\"offfline\");\n      return;\n    }\n    const options = {\n      key: \"rzp_test_92xnvmwoK4k2CT\",\n      currency: \"INR\",\n      amount: amount * 100,\n      name: \"rahul\",\n      handler: function (response) {\n        if (response.razorpay_payment_id) {\n          dispatch(cartDataDelete(item));\n          dispatch(OrderDataACtion(item));\n          alert(\"payment done \");\n        }\n      },\n    };\n    const paymentObject = new window.Razorpay(options);\n    paymentObject.open();\n  };\n  return (\n    <div>\n      <button\n        className=\"btn btn-sm btn-primary mt-2\"\n        onClick={() => displayRazorpay(price)}\n      >\n        Pay with RazorPay\n      </button>\n    </div>\n  );\n}\n\nexport default Razor;\n"]},"metadata":{},"sourceType":"module"}